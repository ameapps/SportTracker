<div class="container">
  <ion-header [translucent]="true">
    <ion-toolbar color="primary">
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Report</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- grafico che per ogni giorno, mostra i minuti di allenamento per ogni attrezzatura -->
  <ion-content [fullscreen]="true">
    <div class="report-container">
      <ion-card>
        <ion-card-header>
          <ion-card-title>
            <ion-icon name="barbell-outline" color="primary"></ion-icon>
            Training calories burned by Equipment
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <canvas
            baseChart
            [datasets]="pagedTrainingData"
            [labels]="pagedTrainingLabels"
            [options]="barChartOptions"
            [legend]="true"
            style="max-height: 300px"
          ></canvas>
          <div class="pagination-controls">
            <button
              ion-button
              (click)="trainingPage = Math.max(trainingPage - 1, 0)"
              [disabled]="trainingPage === 0"
            >
              Prev
            </button>
            <span>
              Page {{ trainingPage + 1 }} / {{ trainingTotalPages }}
            </span>
            <button
              ion-button
              (click)="trainingPage = Math.min(trainingPage + 1, trainingTotalPages - 1)"
              [disabled]="trainingPage >= trainingTotalPages - 1"
            >
              Next
            </button>
          </div>
        </ion-card-content>
      </ion-card>
      <!-- Grafico che per ogni tipologia di cibo, mostra quante volte se ne Ã¨ consumato uno -->
      <ion-card>
        <ion-card-header>
          <ion-card-title>
            <ion-icon name="nutrition-outline" color="primary"></ion-icon>
            Food Frequency
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <canvas
            baseChart
            [datasets]="pagedFoodData"
            [labels]="pagedFoodLabels"
            [options]="barChartOptions"
            [legend]="false"
            style="max-height: 300px"
          ></canvas>
          <div class="pagination-controls">
            <button
              ion-button
              (click)="foodPage = Math.max(foodPage - 1, 0)"
              [disabled]="foodPage === 0"
            >
              Prev
            </button>
            <span>
              Page {{ foodPage + 1 }} /
              {{ Math.ceil(foodChartData.labels.length / pageSize) }}
            </span>
            <button
              ion-button
              (click)="foodPage = Math.min(foodPage + 1, Math.ceil(foodChartData.labels.length / pageSize) - 1)"
              [disabled]="foodPage >= Math.ceil(foodChartData.labels.length / pageSize) - 1"
            >
              Next
            </button>
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  </ion-content>
</div>
